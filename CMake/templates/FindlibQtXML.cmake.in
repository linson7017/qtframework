INCLUDE(FindPackageHandleStandardArgs)
# Look for the header file
if(NOT QTXML_INCLUDE_DIR)
	FIND_PATH(QTXML_INCLUDE_DIR 
	NAMES qfconfig.h
	PATHS @QF_SOURCE_DIRECTORY@/include/qtxml 
	)
	message(${QTXML_INCLUDE_DIR})
endif()
MARK_AS_ADVANCED(QTXML_INCLUDE_DIR)


set(QTXML_LIBRARY 
	optimized ${CMAKE_CURRENT_LIST_DIR}/lib/Release/qtxml.lib debug ${CMAKE_CURRENT_LIST_DIR}/lib/Debug/qtxml.lib  
	CACHE INTERNAL "qtxml library" )
MARK_AS_ADVANCED(QTXML_LIBRARY)

FIND_PACKAGE_HANDLE_STANDARD_ARGS(QTXML REQUIRED_VARS QTXML_LIBRARY QTXML_INCLUDE_DIR)

IF(QTXML_FOUND)
	message("qtxml found!")
	SET(QTXML_LIBRARIES ${QTXML_LIBRARY})
	SET(QTXML_INCLUDE_DIRS ${QTXML_INCLUDE_DIR})
	include_directories(${QTXML_INCLUDE_DIR} @QF_SOURCE_DIRECTORY@/include/json)
	link_directories(${QTXML_LIBDIR})
ELSE(QTXML_FOUND)
	message("qtxml notfound!")
	SET(QTXML_LIBRARIES)
	SET(QTXML_LIBRARY)
	SET(QTXML_INCLUDE_DIR)
	SET(QTXML_INCLUDE_DIRS)
ENDIF(QTXML_FOUND)